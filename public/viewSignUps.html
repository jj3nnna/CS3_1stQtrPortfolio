<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>View Club Sign-Ups</title>

<style>
    body {
        font-family: Arial, sans-serif;
        background-color: #f4f6f8;
        padding: 20px;
    }

    h2 {
        text-align: center;
    }

    .controls {
        text-align: center;
        margin-bottom: 15px;
    }

    table {
        width: 100%;
        border-collapse: collapse;
        background-color: #fff;
    }

    th, td {
        border: 1px solid #ccc;
        padding: 8px;
        text-align: center;
    }

    th {
        background-color: #0077cc;
        color: white;
    }

    .message {
        text-align: center;
        margin-top: 20px;
        font-weight: bold;
        color: #555;
    }

    .back-link {
        display: block;
        text-align: center;
        margin-top: 20px;
    }
</style>

<script>
    let allSignUps = [];

    function loadSignUps() {
        allSignUps = JSON.parse(localStorage.getItem("clubSignUps"));

        if (!allSignUps || allSignUps.length === 0) {
            document.getElementById("output").innerHTML =
                "<p class='message'>No sign-ups found in localStorage.</p>";
            document.getElementById("total").textContent = "Total Sign-Ups: 0";
            return;
        }

        displaySignUps("ALL");
    }

    function displaySignUps(club) {
        let filtered = club === "ALL"
            ? allSignUps
            : allSignUps.filter(s => s.club === club);

        if (filtered.length === 0) {
            document.getElementById("output").innerHTML =
                "<p class='message'>No sign-ups for this club.</p>";
            document.getElementById("total").textContent = "Total Sign-Ups: 0";
            return;
        }

        let html = `<table>
            <tr>
                <th>Student ID</th>
                <th>Name</th>
                <th>Email</th>
                <th>Grade</th>
                <th>Status</th>
                <th>Club</th>
            </tr>`;

        filtered.forEach(s => {
            html += `<tr>
                <td>${s.studentId}</td>
                <td>${s.fullName}</td>
                <td>${s.email}</td>
                <td>${s.gradeLevel}</td>
                <td>${s.status}</td>
                <td>${s.club}</td>
            </tr>`;
        });

        html += "</table>";

        document.getElementById("output").innerHTML = html;
        document.getElementById("total").textContent =
            "Total Sign-Ups: " + filtered.length;
    }

    function filterClub() {
        const selected = document.getElementById("clubFilter").value;
        displaySignUps(selected);
    }
</script>
</head>

<body onload="loadSignUps()">

<h2>Club Sign-Ups</h2>

<div class="controls">
    <label>
        Filter by Club:
        <select id="clubFilter" onchange="filterClub()">
            <option value="ALL">ALL</option>
            <option value="Art Club">Art Club</option>
            <option value="Sports Club">Sports Club</option>
            <option value="Music Society">Music Society</option>
            <option value="Science Club">Science Club</option>
            <option value="Volunteer Group">Volunteer Group</option>
        </select>
    </label>
</div>

<p id="total" class="message"></p>

<div id="output"></div>

<a class="back-link" href="signUp.html">‚Üê Back to Sign-Up Page</a>

</body>
</html>
